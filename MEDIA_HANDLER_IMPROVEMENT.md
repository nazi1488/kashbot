# üé• –£–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏

## üöÄ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: –ü—Ä–∏–Ω–∏–º–∞–µ–º –∏ –æ–±—É—á–∞–µ–º –≤–º–µ—Å—Ç–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

### üìã –ü—Ä–æ–±–ª–µ–º–∞:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ –≤–∏–¥–µ–æ –∏ —Ñ–æ—Ç–æ –Ω–µ –∫–∞–∫ —Ñ–∞–π–ª—ã (–¥–æ–∫—É–º–µ–Ω—Ç—ã), –∞ –∫–∞–∫ —Å–∂–∞—Ç—ã–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã. –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ –æ—Ç–∫–ª–æ–Ω—è–ª —Ç–∞–∫–∏–µ —Ñ–∞–π–ª—ã, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø–æ—Ç–µ—Ä–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ:
–ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –∏–∑–º–µ–Ω–µ–Ω –ø–æ–¥—Ö–æ–¥ - —Ç–µ–ø–µ—Ä—å –±–æ—Ç:

1. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–∂–∞—Ç—ã–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö
2. **–ú—è–≥–∫–æ –æ–±—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º
3. **–ù–µ —Ç–µ—Ä—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤** –∏–∑-–∑–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
4. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ** –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### 1. `handlers/uniqizer.py`
```python
async def wrong_media_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –º–µ–¥–∏–∞ (–≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ –Ω–µ –∫–∞–∫ —Ñ–∞–π–ª)"""
    message = update.message
    
    if message.video:
        media_type = "–≤–∏–¥–µ–æ"
    elif message.photo:
        media_type = "—Ñ–æ—Ç–æ"
    else:
        media_type = "–º–µ–¥–∏–∞—Ñ–∞–π–ª"
    
    await message.reply_text(
        text=f"‚ùå **–û—Ç–ø—Ä–∞–≤—å—Ç–µ {media_type} –∫–∞–∫ —Ñ–∞–π–ª!**\n\n"
             f"üìé –î–ª—è —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å {media_type} –∏–º–µ–Ω–Ω–æ –∫–∞–∫ **—Ñ–∞–π–ª** (–¥–æ–∫—É–º–µ–Ω—Ç), "
             f"–∞ –Ω–µ –∫–∞–∫ —Å–∂–∞—Ç–æ–µ {media_type}.\n\n"
             f"üí° **–ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª:**\n"
             f"‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–∫—Ä–µ–ø–∫—É üìé\n"
             f"‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ \"–§–∞–π–ª\" –≤–º–µ—Å—Ç–æ \"–§–æ—Ç–æ\" –∏–ª–∏ \"–í–∏–¥–µ–æ\"\n"
             f"‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à {media_type}",
        parse_mode=ParseMode.MARKDOWN
    )
    
    return WAITING_FOR_FILE
```

#### 2. `main.py` - ConversationHandler
```python
WAITING_FOR_FILE: [
    MessageHandler(filters.Document.ALL, file_handler),
    MessageHandler(filters.VIDEO | filters.PHOTO, wrong_media_handler),  # ‚Üê –ù–û–í–û–ï
    CallbackQueryHandler(main_menu_callback, pattern="^main_menu$")
]
```

#### 3. `handlers/__init__.py`
```python
from .uniqizer import (
    # ...
    wrong_media_handler,  # ‚Üê –ù–û–í–û–ï
    # ...
)
```

### üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–µ–æ (–Ω–µ —Ñ–∞–π–ª)
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é –æ—à–∏–±–∫—É: "‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–µ–æ (–Ω–µ —Ñ–∞–π–ª)
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "‚ùå **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ –∫–∞–∫ —Ñ–∞–π–ª!**"
3. –û–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∫—Ä–µ–ø–∫—É üìé
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:

‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX** - –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏  
‚úÖ **–ú–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ –æ–±—â–∏—Ö –æ—à–∏–±–æ–∫  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –≤–∏–¥–µ–æ, –∏ —Ñ–æ—Ç–æ** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ  

### ‚ö° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

- **–§–∏–ª—å—Ç—Ä—ã**: `filters.VIDEO | filters.PHOTO`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `Document.ALL`, –ø–æ—Ç–æ–º `VIDEO | PHOTO`
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –û—Å—Ç–∞–µ—Ç—Å—è –≤ `WAITING_FOR_FILE` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏
- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏–º–ø–æ—Ä—Ç–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞  

*–£–ª—É—á—à–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ: 2025-09-28*
