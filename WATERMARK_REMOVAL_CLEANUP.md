# üßπ –£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ "–£–±—Ä–∞—Ç—å –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫"

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –∏–∑ –±–æ—Ç–∞. –≠—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—ã–ª –ø—Ä–∏–∑–Ω–∞–Ω –Ω–µ–Ω—É–∂–Ω—ã–º –∏ —Å–æ–∑–¥–∞–≤–∞–ª –ª–∏—à–Ω—é—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- ‚ùå **–ö–Ω–æ–ø–∫–∞ "üö´ –£–±—Ä–∞—Ç—å –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫"** - —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π
- ‚ùå **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ `remove_watermark`** - —É–¥–∞–ª–µ–Ω –∏–∑ callback handlers
- ‚ùå **–ü–∞—Ä–∞–º–µ—Ç—Ä `remove_watermark`** –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `download_video_task`

### 2. **–ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏**
- ‚ùå **–í–µ—Å—å –∫–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤** –∏–∑ `download_video_task`
- ‚ùå **–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å/–±–µ–∑ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
- ‚ùå **Fallback –ª–æ–≥–∏–∫–∞** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —É–¥–∞–ª–µ–Ω–∏—è

### 3. **–ú–µ—Ç–æ–¥—ã –≤ –∫–ª–∞—Å—Å–∞—Ö**
#### `video_downloader.py`:
- ‚ùå `remove_watermark(video_path, output_dir)` - –º–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
- ‚ùå `detect_watermark_opencv(frame, platform)` - –¥–µ—Ç–µ–∫—Ü–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤

#### `video_downloader_v2.py`:
- ‚ùå `remove_watermark(video_path, output_dir)` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è
- ‚ùå `_detect_platform_by_watermark(cap, width, height)` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚ùå `_blur_watermark_areas(frame, platform)` - —Ä–∞–∑–º—ã—Ç–∏–µ –æ–±–ª–∞—Å—Ç–µ–π

### 4. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–≤—Å–µ —è–∑—ã–∫–∏)**
#### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:
```json
"remove_watermark": "üö´ –£–±—Ä–∞—Ç—å –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫" // ru
"remove_watermark": "üö´ Remove Watermark"    // en  
"remove_watermark": "üö´ –ü—Ä–∏–±—Ä–∞—Ç–∏ –≤–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫" // uk

"removing_watermark": "‚úÇÔ∏è –£–¥–∞–ª—è—é –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫..." // ru
"removing_watermark": "‚úÇÔ∏è Removing watermark..."   // en
"removing_watermark": "‚úÇÔ∏è –í–∏–¥–∞–ª—è—é –≤–æ–¥—è–Ω–∏–π –∑–Ω–∞–∫..." // uk
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:
```json
// –£–±—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä {watermark_removed}
"video_downloaded": "‚úÖ –í–∏–¥–µ–æ —Å–∫–∞—á–∞–Ω–æ —Å {platform}!"

// –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π (—É–±—Ä–∞–Ω–æ "‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤")
"video_downloader_explanation": "‚Ä¢ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ\n‚Ä¢ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ –∏–∑ –≤–∏–¥–µ–æ"
```

### 5. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥**
- ‚ùå **Pattern `remove_watermark`** —É–¥–∞–ª–µ–Ω –∏–∑ `main.py`
- ‚ùå **–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ `elif action == "remove_watermark"`**

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—á–∏—Å—Ç–∫–∏

### **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```
[üì• –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ] [üéµ –¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ]
[üîô –ù–∞–∑–∞–¥]
```

**–†–∞–Ω–µ–µ –±—ã–ª–æ:**
```
[üì• –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ] [üéµ –¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ]
[üö´ –£–±—Ä–∞—Ç—å –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫]
[üîô –ù–∞–∑–∞–¥]
```

### **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL
2. –í—ã–±–∏—Ä–∞–µ—Ç: **–°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ** –∏–ª–∏ **–¢–æ–ª—å–∫–æ –∞—É–¥–∏–æ**  
3. –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–£–±—Ä–∞–Ω–æ:**
- –í—ã–±–æ—Ä —É–¥–∞–ª–µ–Ω–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ fallback'–æ–≤

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ:**
- ‚úÖ **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - Instagram Reel –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (451 KB, MP4)
- ‚úÖ **–ú–µ—Ç–æ–¥—ã —É–¥–∞–ª–µ–Ω—ã** - `dir(downloader)` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `watermark` –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–æ—â–µ–Ω** - —Ç–æ–ª—å–∫–æ 2 –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–û—à–∏–±–æ–∫ –Ω–µ—Ç** - –≤–µ—Å—å –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–æ–±–ª–µ–º

---

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

### ‚úÖ **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ:**
- üé¨ TikTok, YouTube Shorts, Instagram Reels
- üì± –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- üîí –°–∏—Å—Ç–µ–º–∞ –∫—É–∫–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- üìè –ê–≤—Ç–æ—Å–∂–∞—Ç–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤

### ‚úÖ **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ:**
- üéµ MP3 —Ñ–æ—Ä–º–∞—Ç
- üé§ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞
- üì¶ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

### ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- üõ°Ô∏è –ê–≤—Ç–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫—É–∫–æ–≤
- üîç –í–∞–ª–∏–¥–∞—Ü–∏—è URL
- üßπ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### **–£–ª—É—á—à–µ–Ω–∏—è –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è:**
- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö —à–∞–≥–æ–≤
- üíæ **–ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏** - —É–±—Ä–∞–Ω—ã OpenCV –æ–ø–µ—Ä–∞—Ü–∏–∏
- üéØ **–ü—Ä–æ—â–µ –∫–æ–¥** - –º–µ–Ω—å—à–µ —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏
- üë§ **–õ—É—á—à–∏–π UX** - –º–µ–Ω—å—à–µ –∫–Ω–æ–ø–æ–∫, –ø—Ä–æ—â–µ –≤—ã–±–æ—Ä

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### **–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:**
- `video_downloader.py`: **~150 —Å—Ç—Ä–æ–∫**
- `video_downloader_v2.py`: **~140 —Å—Ç—Ä–æ–∫** 
- `handlers/video_download.py`: **~30 —Å—Ç—Ä–æ–∫**
- `main.py`: **1 —Å—Ç—Ä–æ–∫–∞**
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: **6 —Å—Ç—Ä–æ–∫** (3 —è–∑—ã–∫–∞)

### **–£–¥–∞–ª–µ–Ω–æ –º–µ—Ç–æ–¥–æ–≤:**
- `remove_watermark()` - 2 –≤–µ—Ä—Å–∏–∏
- `detect_watermark_opencv()` - 1 –º–µ—Ç–æ–¥  
- `_detect_platform_by_watermark()` - 1 –º–µ—Ç–æ–¥
- `_blur_watermark_areas()` - 1 –º–µ—Ç–æ–¥

### **–ò—Ç–æ–≥–æ:**
- **~320+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** —É–¥–∞–ª–µ–Ω–æ
- **5 –º–µ—Ç–æ–¥–æ–≤** —É–¥–∞–ª–µ–Ω–æ
- **1 –∫–Ω–æ–ø–∫–∞** —É–±—Ä–∞–Ω–∞ –∏–∑ UI
- **1 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥** —É–¥–∞–ª–µ–Ω

---

## üîÆ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞** –∏–∑ —Å–∏—Å—Ç–µ–º—ã:

- üéØ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–æ—â–µ–Ω** - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞** - –Ω–µ—Ç –ª–∏—à–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏  
- üßπ **–ö–æ–¥ –æ—á–∏—â–µ–Ω** - —É–±—Ä–∞–Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ë–æ—Ç —Ç–µ–ø–µ—Ä—å —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º:** –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º. üöÄ
