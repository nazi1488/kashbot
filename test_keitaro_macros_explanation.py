#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Keitaro —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –º–∞–∫—Ä–æ—Å–æ–≤
"""

import sys
import json
from pathlib import Path

sys.path.insert(0, str(Path(__file__).parent))

def test_keitaro_macros_explanation():
    """–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –º–∞–∫—Ä–æ—Å–æ–≤"""
    
    print("üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–æ–≤ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏")
    print("=" * 50)
    
    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        with open('locales/ru.json', 'r', encoding='utf-8') as f:
            locales = json.load(f)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–±–µ–∑ –¥–æ—Å—Ç–∞–≤–∫–∏)
        profile_info = locales.get('keitaro_profile_info', '')
        if "–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å? ‚Üí –ù–∞–∂–º–∏ '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è'" in profile_info:
            print("‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —É–ø—Ä–æ—â–µ–Ω - —É–±—Ä–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ")
        else:
            print("‚ùå –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ —É–ø—Ä–æ—â–µ–Ω")
            return False
            
        if "üí¨ **–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**" not in profile_info:
            print("‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ –∏ —Ç–æ–ø–∏–∫–µ —É–±—Ä–∞–Ω–∞")
        else:
            print("‚ùå –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å")
            return False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –º–∞–∫—Ä–æ—Å–æ–≤
        howto_text = locales.get('keitaro_howto_text', '')
        
        if "ü§î **–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞–∫—Ä–æ—Å—ã?**" in howto_text:
            print("‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤")
        else:
            print("‚ùå –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
            return False
            
        if "–¢—ã –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—à—å!" in howto_text:
            print("‚úÖ –ß–µ—Ç–∫–æ –æ–±—ä—è—Å–Ω–µ–Ω–æ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–µ–Ω—è–µ—Ç {}")
        else:
            print("‚ùå –ù–µ –æ–±—ä—è—Å–Ω–µ–Ω–æ –ø—Ä–æ –Ω–µ–∏–∑–º–µ–Ω–Ω–æ—Å—Ç—å –º–∞–∫—Ä–æ—Å–æ–≤")
            return False
            
        if "payout={{payout}}" in howto_text and "payout=150" in howto_text:
            print("‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–Ω—è—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –º–∞–∫—Ä–æ—Å–æ–≤")
        else:
            print("‚ùå –ü—Ä–∏–º–µ—Ä –º–∞–∫—Ä–æ—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return False
            
        if "–±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö" in howto_text:
            print("‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–æ –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –º–∞–∫—Ä–æ—Å—ã")
        else:
            print("‚ùå –ù–µ –æ–±—ä—è—Å–Ω–µ–Ω–æ –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –º–∞–∫—Ä–æ—Å—ã")
            return False
        
        print("\nüìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:")
        print("   1. ‚úÖ –£–±—Ä–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è")
        print("   2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤")
        print("   3. ‚úÖ –ß–µ—Ç–∫–æ —Å–∫–∞–∑–∞–Ω–æ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–µ–Ω—è–µ—Ç {}")
        print("   4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –º–∞–∫—Ä–æ—Å–æ–≤")
        print("   5. ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–æ –∑–∞—á–µ–º –º–∞–∫—Ä–æ—Å—ã –Ω—É–∂–Ω—ã")
        
        print("\nüí° –ù–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤:")
        print("   ‚Ä¢ –ß—Ç–æ —ç—Ç–æ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ {{}})")
        print("   ‚Ä¢ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Keitaro (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç)")
        print("   ‚Ä¢ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç)")
        print("   ‚Ä¢ –ü—Ä–∏–º–µ—Ä: {{payout}} ‚Üí 150")
        print("   ‚Ä¢ –ó–∞—á–µ–º: –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: {e}")
        import traceback
        traceback.print_exc()
        return False

if __name__ == "__main__":
    success = test_keitaro_macros_explanation()
    
    if success:
        print("\n" + "=" * 50)
        print("üéâ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Keitaro —É–ª—É—á—à–µ–Ω–∞!")
        print("\nüí° –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
        print("   ‚Ä¢ –£–±—Ä–∞–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ")
        print("   ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤")
        print("   ‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–π–º—É—Ç —á—Ç–æ –º–∞–∫—Ä–æ—Å—ã –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å")
        print("   ‚Ä¢ –ü–æ–Ω—è—Ç–Ω–æ –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –º–∞–∫—Ä–æ—Å—ã")
    
    sys.exit(0 if success else 1)
